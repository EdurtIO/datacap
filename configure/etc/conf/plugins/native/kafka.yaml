name: Kafka
supportTime: '2023-03-06'

configures:
  - field: name
    type: String
    required: true
    message: name is a required field, please be sure to enter
  - field: host
    type: String
    required: true
    value: 127.0.0.1:9092
    message: host is a required field, please be sure to enter

pipelines:
  - executor: Seatunnel
    type: SOURCE
    fields:
      - field: bootstrap.servers
        origin: host
        required: true
      - field: topic
        description: |
          Kafka topic name. If there are multiple topics, use , to split, for example: "tpc1,tpc2".
        origin: database
        hidden: false
        required: true
        override: false
        input: true
        type: INPUT
      - field: pattern
        description: |
          If pattern is set to true,the regular expression for a pattern of topic names to read from. All topics in clients with names that match the specified regular expression will be subscribed by the consumer.
        origin: pattern
        required: false
        override: false
        input: true
        value: false
        width: 45
        type: SWITCH
      - field: consumer.group
        description: |
          Kafka consumer group id, used to distinguish different consumer groups.
        origin: group
        required: false
        override: false
        input: true
        value: DataCap-Pipeline-Group
        width: 300
        type: INPUT
      - field: commit_on_checkpoint
        description: |
          If true the consumer's offset will be periodically committed in the background.
        origin: commit_on_checkpoint
        required: false
        override: false
        input: true
        value: true
        width: 45
        type: SWITCH
      - field: format
        description: |
          Data format. The default format is json. Optional text format. The default field separator is ", ". If you customize the delimiter, add the "field_delimiter" option.
        origin: format
        required: false
        override: false
        input: true
        value: json
        width: 300
        type: INPUT
      - field: field_delimiter
        description: |
          Customize the field delimiter for data format.
        origin: field_delimiter
        required: false
        override: false
        input: true
        value: |
          ,
        width: 300
        type: INPUT
      - field: start_mode
        description: |
          The initial consumption pattern of consumers,there are several types: [earliest],[group_offsets],[latest],[specific_offsets],[timestamp]
        defaultValues:
          - earliest
          - group_offsets
          - latest
          - specific_offsets
          - timestamp
        origin: start_mode
        required: false
        override: false
        input: true
        value: group_offsets
        width: 300
        type: SELECT
  - executor: Seatunnel
    type: SINK
    fields:
      - field: bootstrap.servers
        origin: host
        required: true
      - field: topic
        origin: topic
        required: true
        override: false
        input: true
